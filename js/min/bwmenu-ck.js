!function(n){n.fn.bwmenu=function(a){function e(a){a.addClass("bwmenu"),n("html").prepend('<div class="bw-link"></div>'),a.css("width",m.margin).css("left","-"+m.margin),a.find("ul").addClass("bt-cache"),a.find("li").each(function(){n(this).has("ul").length&&n(this).prepend('<span class="bwflechesousmenu fa fa-caret-right "></span>')}),a.children("ul").addClass("bt-montre")}function t(a){a.hasClass("bw-open")?o(n(".bwmenu")):(n(m.button).removeClass("bt-menu-close").addClass("bt-menu-open"),a.addClass("bw-open").animate({left:"0.000000001"}),n("html").animate({marginLeft:"+="+m.margin}).removeClass("over-auto").addClass("over-none"),n(".bw-link").addClass("bw-link-max"))}function s(a,e){if(e.parent().find("ul").length>0){var t=e.parent().find("ul").html();a.animate({width:"+="+m.decal}),n(".bw-sousmenu").animate({marginLeft:"+="+m.decal}),n("html").animate({left:"+="+m.decal}),0==m.btstatic&&n(m.button).animate({left:"+="+m.decal}),n(".bw-sousmenu,.bwmenu").removeClass("over-auto").addClass("over-none");var s=1+Math.floor(999999*Math.random()),i="bw-sousmenu"+s;a.append('<div id="'+i+'" class="bw-sousmenu" class="over-auto"  style="width:'+m.margin+";left:-"+m.margin+';"><div class="bw-back" ref-div="'+i+'" ><span class="fa fa-caret-left"></span>&nbsp;Retour</div>'+t+"</div>"),n("#"+i).animate({left:"0.000000001"});var o=e.prev().attr("class");if(void 0!=o){var l='<span class="bw-topicon '+o+'"></span>';e.parent().append('<div style="display:none;" id="icon'+i+'"></div>'),n("#icon"+i).append(l),n("#icon"+i).show("slow")}}}function i(a,e){$nomdiv=e.attr("ref-div"),n("#"+$nomdiv).animate({marginLeft:"-"+m.margin},function(a){n(this).remove()}),n("#icon"+$nomdiv).remove(),n(".bw-sousmenu").animate({marginLeft:"-="+m.decal}).removeClass("over-none").addClass("over-auto"),n(".bwmenu").animate({width:"-="+m.decal}),n("html").animate({left:"-="+m.decal}),0==m.btstatic&&n(m.button).animate({left:"-="+m.decal}),n($nomdiv).animate({left:"-="+m.margin});var t=parseInt(m.margin.replace(/px/,""))+parseInt(m.decal.replace(/px/,""))+"px";n(".bwmenu").css("width")==t&&n(".bwmenu").removeClass("over-none").addClass("over-auto")}function o(a){n("html").animate({marginLeft:"-="+m.margin}).removeClass("over-none").addClass("over-auto"),n(".bwmenu").removeClass("bw-open").animate({left:"-="+m.margin}).animate({width:m.margin}),n(".bw-link").removeClass("bw-link-max"),n(".bw-sousmenu").animate({marginLeft:"-"+m.margin}),n(m.button).animate({left:r},function(){n(".bw-sousmenu").remove(),n(".bw-topicon").remove()}),n(m.button).removeClass("bt-menu-open").addClass("bt-menu-close")}var l={button:"#bt-monmenu",btstatic:0,margin:"260px",decal:"30px"},m=n.extend(l,a),r=n(m.button).css("left");return this.each(function(a){var l=n(this);e(l),n(m.button).on("click",function(){t(l)}),l.on("click","a",function(){s(l,n(this))}),n(".bw-link").on("click",function(){l.hasClass("bw-open")&&o(n(".bwmenu"))}),n("div").on("click",".bw-back",function(a){i(l,n(this)),a.stopPropagation()})})}}(jQuery);