!function(n){n.fn.bwmenu=function(a){function e(a){a.addClass("bwmenu"),n("html").prepend('<div class="bw-link"></div>'),a.css("width",l.margin).css("left","-"+l.margin),a.find("ul").addClass("bt-cache"),a.children("ul").addClass("bt-montre")}function t(a){a.hasClass("bw-open")?o(n(".bwmenu")):(n(l.button).removeClass("bt-menu-close").addClass("bt-menu-open"),a.addClass("bw-open").animate({left:"0.000000001"}),n("html").animate({marginLeft:"+="+l.margin}).removeClass("over-auto").addClass("over-none"),n(".bw-link").addClass("bw-link-max"))}function i(a,e){if(e.parent().find("ul").length>0){var t=e.parent().find("ul").html();a.animate({width:"+="+l.decal}),n(".bw-sousmenu").animate({marginLeft:"+="+l.decal}),n("html").animate({left:"+="+l.decal}),0==l.btstatic&&n(l.button).animate({left:"+="+l.decal}),n(".bw-sousmenu,.bwmenu").removeClass("over-auto").addClass("over-none");var i=1+Math.floor(999999*Math.random()),s="bw-sousmenu"+i;a.append('<div id="'+s+'" class="bw-sousmenu" class="over-auto"  style="width:'+l.margin+";left:-"+l.margin+';"><div class="bw-back" ref-div="'+s+'" ><span class="fa fa-caret-left"></span>&nbsp;Retour</div>'+t+"</div>"),n("#"+s).animate({left:"0.000000001"});var o=e.prev().attr("class");if(void 0!=o){var m='<span class="bw-topicon '+o+'"></span>';e.parent().append('<div style="display:none;" id="icon'+s+'"></div>'),n("#icon"+s).append(m),n("#icon"+s).show("slow")}}}function s(a,e){$nomdiv=e.attr("ref-div"),n("#"+$nomdiv).animate({marginLeft:"-"+l.margin},function(a){n(this).remove()}),n("#icon"+$nomdiv).remove(),n(".bw-sousmenu").animate({marginLeft:"-="+l.decal}).removeClass("over-none").addClass("over-auto"),n(".bwmenu").animate({width:"-="+l.decal}),n("html").animate({left:"-="+l.decal}),0==l.btstatic&&n(l.button).animate({left:"-="+l.decal}),n($nomdiv).animate({left:"-="+l.margin});var t=parseInt(l.margin.replace(/px/,""))+parseInt(l.decal.replace(/px/,""))+"px";n(".bwmenu").css("width")==t&&n(".bwmenu").removeClass("over-none").addClass("over-auto")}function o(a){n("html").animate({marginLeft:"-="+l.margin}).removeClass("over-none").addClass("over-auto"),n(".bwmenu").removeClass("bw-open").animate({left:"-="+l.margin}).animate({width:l.margin}),n(".bw-link").removeClass("bw-link-max"),n(".bw-sousmenu").animate({marginLeft:"-"+l.margin}),n(l.button).animate({left:r},function(){n(".bw-sousmenu").remove(),n(".bw-topicon").remove()}),n(l.button).removeClass("bt-menu-open").addClass("bt-menu-close")}var m={button:"#bt-monmenu",btstatic:0,margin:"260px",decal:"30px"},l=n.extend(m,a),r=n(l.button).css("left");return this.each(function(a){var m=n(this);e(m),n(l.button).on("click",function(){t(m)}),m.on("click","a",function(){i(m,n(this))}),n(".bw-link").on("click",function(){m.hasClass("bw-open")&&o(n(".bwmenu"))}),n("div").on("click",".bw-back",function(a){s(m,n(this)),a.stopPropagation()})})}}(jQuery);